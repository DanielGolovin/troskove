{{ define "expense-types" }}
<div class="container mx-auto p-4">
    <h2 class="text-2xl font-bold mb-4">Expenses Types:</h2>

    {{ template "new-expense-type-form" }}
    {{ template "expense-types-list" . }}

</div>
{{end}}

{{ define "new-expense-type-form" }}
<form class="mb-6">
    <input id="new-expense-name" placeholder="New Expense Type"
        class="border-2 border-gray-300 p-2 rounded-md mr-2 focus:outline-none focus:border-blue-500" />
    <button hx-post="/api/expense-type" hx-swap="innerHTML" hx-target="body" hx-ext="json-enc"
        hx-vals='js:{"name": document.getElementById("new-expense-name").value}'
        class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">Add</button>
</form>
{{end}}

{{ define "expense-types-list" }}
<div class="space-y-4">
    {{ range .ExpenseTypes}}
    <form class="flex items-center justify-between bg-gray-100 p-3 rounded-lg">
        <input id="input-{{.ID}}" value="{{.Name}}"
            class="border-2 border-gray-300 p-2 rounded-md focus:outline-none focus:border-blue-500" />
        <div>
            <button type="button" hx-swap="innerHTML" hx-target="body" hx-delete="/api/expense-type?id={{.ID}}"
                class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mr-2">Delete</button>
            <button type="submit" hx-ext="json-enc" hx-swap="innerHTML" hx-target="body"
                hx-patch="/api/expense-type?id={{.ID}}"
                hx-vals='js:{"name": document.getElementById("input-{{.ID}}").value}'
                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">Edit</button>
        </div>
    </form>
    {{end}}
</div>
{{end}}